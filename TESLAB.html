<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultra Debug - Visibilidad</title>
    <style>
        /* Estilos MÍNIMOS y de DEPURACIÓN */
        body {
            background-color: #ABAB99;
            padding: 10px;
            font-family: sans-serif;
            border: 5px solid red !important; /* Borde rojo GRUESO en body */
            min-height: 100vh;
        }
        h1 { color: black; background: yellow; padding: 5px; }
        #status { color: blue; font-weight: bold; margin: 10px 0; border: 1px solid blue; padding: 5px; }
        #grid-container {
            margin-left: 70px; /* Espacio para botones */
            border: 3px solid lime !important;
            padding: 10px;
            min-height: 150px;
            background-color: rgba(0, 255, 0, 0.1);
            display: grid; /* Asegurar display grid */
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); /* Columnas simples */
            gap: 5px;
            visibility: visible !important; /* Forzar visibilidad */
            opacity: 1 !important;
        }
        .grid-item-debug {
            border: 1px solid purple;
            background-color: lightpink;
            padding: 10px;
            min-height: 40px;
            text-align: center;
            visibility: visible !important; /* Forzar visibilidad */
            opacity: 1 !important;
        }
        .button-debug {
            position: fixed; /* Posición fija */
            left: 10px; /* A la izquierda */
            width: 80px; /* Ancho fijo */
            height: 40px; /* Alto fijo */
            border: 2px solid black !important;
            background-color: yellow !important;
            color: black !important;
            z-index: 9999 !important; /* Muy alto */
            margin-bottom: 5px; /* Espacio entre ellos */
            display: flex !important; /* Asegurar display */
            align-items: center;
            justify-content: center;
            font-size: 10px;
            visibility: visible !important; /* Forzar visibilidad */
            opacity: 1 !important;
        }
        .error-message { color: red; font-weight: bold; border: 2px solid red; padding: 10px; margin: 10px; background: white; }
    </style>
</head>
<body>

    <h1>Ultra Debug - Visibilidad</h1>
    <div id="status">Estado: HTML Cargado.</div>

    <!-- Contenedor del Grid -->
    <div id="grid-container">
        Contenedor Grid Pre-JS
    </div>

    <!-- Contenedor para botones (solo para referencia, se añaden al body) -->
    <div id="button-placeholder" style="display:none;"></div>

    <!-- Botón estático para comparar -->
    <button class="button-debug" style="top: 10px;">Botón Estático HTML</button>

    <script>
        // JS MÍNIMO ABSOLUTO
        try {
            const statusDiv = document.getElementById('status');
            statusDiv.textContent = "Estado: JavaScript Ejecutándose...";
            console.log("--- Script Iniciado ---");

            // 1. Poblar Grid Simple
            const gridContainer = document.getElementById('grid-container');
            if (gridContainer) {
                 console.log("Encontrado #grid-container. Poblando...");
                 gridContainer.innerHTML = ''; // Limpiar
                 for (let i = 0; i < 12; i++) { // Crear solo 12 celdas simples
                     const cell = document.createElement('div');
                     cell.className = 'grid-item-debug';
                     cell.textContent = `Celda ${i + 1}`;
                     gridContainer.appendChild(cell);
                 }
                 console.log("Grid de prueba poblado.");
                 statusDiv.innerHTML += "<br>Grid Poblado.";
            } else {
                 console.error("#grid-container NO ENCONTRADO!");
                 statusDiv.innerHTML += "<br><span class='error-message'>ERROR: #grid-container NO ENCONTRADO!</span>";
            }

            // 2. Crear Botones Laterales Simples y Posicionarlos
            console.log("Creando botones de prueba...");
            const buttonIds = ['Scroll', 'OnOff', 'Filtro1', 'Weather', 'Reminder', 'Zoom', 'DarkMode', 'Reload', 'Home', 'Config'];
            let currentTop = 60; // Empezar debajo del botón estático
            const buttonHeight = 40;
            const spacing = 5;
            buttonIds.forEach((id, index) => {
                try {
                    const btn = document.createElement('button');
                    btn.id = `debug-${id}`;
                    btn.className = 'button-debug'; // Clase de depuración
                    btn.textContent = id;
                    btn.style.top = `${currentTop}px`; // Aplicar posición directamente
                    document.body.appendChild(btn); // Añadir al body
                    console.log(`Botón ${id} creado y posicionado en ${currentTop}px`);
                    currentTop += buttonHeight + spacing; // Incrementar para el siguiente
                } catch (e) {
                    console.error(`Error creando botón ${id}:`, e);
                    statusDiv.innerHTML += `<br><span class='error-message'>Error creando botón ${id}: ${e.message}</span>`;
                }
            });
            console.log("Botones de prueba creados.");
            statusDiv.innerHTML += "<br>Botones Poblados.";

            // 3. Finalizar
            statusDiv.textContent = "Estado: JavaScript Finalizado.";
            console.log("--- Script Finalizado ---");

        } catch (error) {
            console.error("--- ERROR FATAL EN SCRIPT ---", error);
            const errorHtml = `<div class="error-message">ERROR FATAL: ${error.message}<br><pre>${error.stack || 'No stack trace'}</pre></div>`;
            // Intentar mostrar error
            const statusDiv = document.getElementById('status');
            if(statusDiv) statusDiv.innerHTML = errorHtml; else document.body.innerHTML = errorHtml;
        }
    </script>

</body>
</html>