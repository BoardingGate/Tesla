<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual de Usuario - BoardingGate Lanzador</title>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1, h2, h3 {
            color: #5C5C47; /* Color del título original */
        }
        h1 { text-align: center; margin-bottom: 30px; }
        h2 { border-bottom: 2px solid #ABAB99; padding-bottom: 5px; margin-top: 30px; }
        h3 { margin-top: 20px; color: #668B8B; } /* Color azulado botones */
        img.manual-screenshot {
            display: block;
            max-width: 100%;
            height: auto;
            margin: 15px auto;
            border: 1px solid #ccc;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }
        /* Estilos para simular "recortes" de la imagen original */
        .img-crop {
            overflow: hidden; /* Oculta las partes fuera del área */
            display: block;
            margin: 15px auto;
            border: 1px solid #ccc;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            background-color: #ABAB99; /* Fondo por si la imagen no carga */
        }
        .img-crop img {
            display: block;
            object-fit: none; /* No redimensionar, mostrar tamaño original */
        }
        .crop-sidebar { width: 150px; height: 450px; }
        .crop-sidebar img { object-position: left top; width: 150px; height: auto; /* Ajusta tamaño si es necesario */ }

        .crop-topbar { width: 450px; height: 100px; }
        .crop-topbar img { object-position: -160px -20px; /* Ajusta esto para centrar la zona */ width: auto; height: auto; }

        .crop-grid { width: 600px; height: 300px; }
        .crop-grid img { object-position: -160px -100px; /* Ajusta para mostrar grid */ width: auto; height: auto; }

        .crop-filter { width: 200px; height: 50px; }
        .crop-filter img { object-position: -450px -35px; /* Ajusta para mostrar filtro */ width: auto; height: auto; }

        .crop-reminder { width: 70px; height: 70px; }
        .crop-reminder img { object-position: -30px -390px; /* Ajusta para el botón recordatorio */ width: auto; height: auto; }

        .crop-personalize { width: 50px; height: 50px; }
        .crop-personalize img { object-position: -260px -37px; /* Botón personalización */ width: auto; height: auto; }

        .crop-config { width: 50px; height: 50px; }
        .crop-config img { object-position: -185px -37px; /* Botón config */ width: auto; height: auto; }

        .crop-pin { width: 50px; height: 50px; }
        .crop-pin img { object-position: -1080px -37px; /* Botón PIN (puede estar fuera de la imagen original visible) - ajusta si es necesario */ width: auto; height: auto; } /* Posición estimada, puede necesitar ajuste */


        code {
            background-color: #e0e0e0;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }
        ul {
            list-style: disc;
            margin-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        strong { color: #D9A066; } /* Naranja/ocre */
    </style>
</head>
<body>
    <div class="container">
        <h1>Manual de Usuario - BoardingGate Lanzador</h1>

        <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Vista general de la página" class="manual-screenshot">

        <section>
            <h2>Introducción</h2>
            <p>Bienvenido al manual de usuario del <strong>BoardingGate Lanzador</strong>. Esta página web está diseñada para actuar como un panel de control o lanzador personalizable, especialmente útil en la pantalla de un vehículo Tesla, pero accesible desde cualquier navegador web.</p>
            <p>Permite acceder rápidamente a tus sitios web favoritos, gestionar recordatorios, personalizar la apariencia y mucho más.</p>
        </section>

        <section>
            <h2>Interfaz Principal</h2>
            <p>La interfaz se divide en varias áreas clave:</p>

            <h3>1. Grid de Marcadores</h3>
            <p>Es el área central donde se muestran los botones (marcadores) que enlazan a diferentes páginas web. Puedes hacer clic en cualquier marcador para abrir el enlace correspondiente en una nueva pestaña.</p>
            <div class="img-crop crop-grid">
                <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Zona del grid de marcadores">
            </div>
            <ul>
                <li>Los marcadores muestran un icono (favicon) y un nombre.</li>
                <li>Los espacios con un <code>+</code> son ranuras vacías que puedes personalizar.</li>
                <li>El grid se puede filtrar y su apariencia se puede modificar (ver secciones siguientes).</li>
            </ul>

            <h3>2. Barra Lateral Izquierda</h3>
            <p>Contiene botones de control rápido:</p>
            <div class="img-crop crop-sidebar">
                <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Barra lateral de botones">
            </div>
            <ul>
                <li><strong>Botón Scroll (Arriba/Abajo):</strong> Te permite ir rápidamente al inicio o al final de la página.</li>
                <li><strong>Botón ON/OFF:</strong> Es un interruptor maestro. Cuando está en <strong>OFF</strong>, oculta todos los marcadores del grid. En <strong>ON</strong>, los muestra (sujetos a los filtros de sección).</li>
                <li><strong>Botones de Sección (<code>- PdR,s</code>, <code>- iAs</code>, <code>- Útil</code>, <code>- Varios</code>):</strong> Estos botones permiten ocultar o mostrar grupos específicos de marcadores en el grid. El signo <code>-</code> indica que la sección está visible, y <code>+</code> indica que está oculta. Haz clic para cambiar el estado.</li>
                <li><strong>Botón Tiempo (Sol):</strong> Abre la web de Ventusky en una nueva pestaña.</li>
                <li><strong>Botón Recordatorios (Calendario/Nota):</strong>
                    <ul>
                        <li>Un <strong>clic corto</strong> abre el modal para añadir/editar un recordatorio.</li>
                        <li>Una <strong>pulsación larga (2 segundos)</strong> abre la tabla con todos tus recordatorios.</li>
                        <li>Muestra un número rojo si hay recordatorios pendientes (no cíclicos).</li>
                    </ul>
                    <div class="img-crop crop-reminder">
                         <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Botón de Recordatorios">
                    </div>
                </li>
                <li><strong>Botón Zoom (+/-):</strong> Cambia el tamaño de los marcadores y el número de columnas en el grid (vista normal o ampliada).</li>
                <li><strong>Botón Modo Claro/Oscuro (Sol/Luna):</strong> Cambia entre el tema visual claro y oscuro.</li>
            </ul>

            <h3>3. Barra Superior</h3>
             <div class="img-crop crop-topbar">
                <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Barra superior con botones y filtro">
            </div>
            <ul>
                <li><strong>Botón Configuración (Engranaje):</strong> Abre el modal de configuración (ver sección Configuración).</li>
                <li><strong>Botón Personalización (Mano/Llave inglesa):</strong> Permite entrar en los modos de edición para personalizar el grid (ver sección Personalización).</li>
                <li><strong>Botón Inicio Tesla (Logo T):</strong> Intenta volver a la página anterior en el historial del navegador.</li>
                <li><strong>Botón Recargar (Flecha circular):</strong> Recarga la página actual.</li>
                <li><strong>Filtro de Grid:</strong> Escribe texto aquí para filtrar los marcadores por nombre. Aparecerá una <code>x</code> para borrar el filtro rápidamente.</li>
                 <div class="img-crop crop-filter">
                     <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Campo de filtro del grid">
                 </div>
                 <li><strong>ID Usuario:</strong> Muestra tu apodo si lo has configurado.</li>
                 <li><strong>Botón Candado (Opcional):</strong> Activa/desactiva la petición de clave PIN al inicio (si has configurado una clave).</li>
            </ul>

            <h3>4. Barra de Avisos y Footer</h3>
            <ul>
                <li><strong>Avisos:</strong> Muestra mensajes importantes o noticias que rotan automáticamente. Puedes ocultar/mostrar esta barra y el footer haciendo clic en el icono de la izquierda de los avisos.</li>
                <li><strong>Footer:</strong> Contiene el logo, título, versión de la página, enlaces y créditos.</li>
            </ul>
        </section>

        <section>
            <h2>Funcionalidades Clave</h2>

            <h3>Filtrar Marcadores</h3>
            <p>Usa el campo <strong>"Filtrar grid..."</strong> en la barra superior. Empieza a escribir y el grid mostrará solo los marcadores cuyo nombre contenga el texto introducido (ignora mayúsculas/minúsculas y acentos). Haz clic en la <code>x</code> que aparece junto al campo para limpiar el filtro.</p>

            <h3>Ocultar/Mostrar Secciones</h3>
            <p>Usa los botones de la barra lateral (<code>- PdR,s</code>, <code>- iAs</code>, etc.) para ocultar secciones enteras. El botón maestro <strong>ON/OFF</strong> oculta o muestra todo el grid.</p>

            <h3>Zoom del Grid</h3>
            <p>Haz clic en el botón <strong>Zoom (+/-)</strong> en la barra lateral para alternar entre una vista con marcadores más pequeños (más por pantalla) y una vista con marcadores más grandes (menos por pantalla).</p>

            <h3>Modo Oscuro</h3>
            <p>Haz clic en el botón <strong>Sol/Luna</strong> en la barra lateral para cambiar manualmente entre el modo claro y oscuro. La página también puede cambiar automáticamente según la hora del día.</p>
        </section>

        <section>
            <h2>Gestión de Recordatorios</h2>
             <div class="img-crop crop-reminder" style="float: right; margin-left: 10px;">
                 <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Botón Recordatorios">
             </div>
            <p>Puedes crear, ver y gestionar recordatorios personales.</p>
            <ul>
                <li><strong>Acceso:</strong> Clic corto en el botón de recordatorios (calendario/nota) para añadir/editar. Pulsación larga (2s) para ver la tabla completa. El número en el globo azul arriba a la izquierda indica recordatorios <strong>no cíclicos</strong> pendientes. El número en el propio botón lateral indica el <strong>total</strong> de recordatorios.</li>
                <li><strong>Crear/Modificar:</strong>
                    <ul>
                        <li>Se abre un formulario. Escribe el texto del recordatorio en el área principal.</li>
                        <li><strong>¡Inteligencia Artificial Simple!</strong> Intenta escribir la hora (<code>a las 10:30</code>, <code>a las cinco y cuarto</code>), fecha (<code>mañana</code>, <code>el dia 25</code>, <code>15/12/2024</code>, <code>próximo lunes</code>), repetición (<code>cada lunes</code>, <code>todos los martes y jueves</code>) o intervalo (<code>cada 7 dias</code>) directamente en el texto. La página intentará rellenar los campos de abajo automáticamente.</li>
                         <li>También puedes usar el <strong>micrófono</strong> para dictar el texto.</li>
                        <li>Puedes ajustar manualmente la hora, fecha, días de repetición o intervalo en los campos específicos.</li>
                        <li>El botón <strong>"Limpiar"</strong> borra todos los campos.</li>
                        <li>El botón <strong>"Ayuda"</strong> muestra ejemplos de texto.</li>
                        <li>El botón <strong>"Aceptar"</strong> guarda el recordatorio. Tiene una cuenta atrás (25s) y se guarda automáticamente si no interactúas.</li>
                        <li>El botón <strong>"Ver Recordatorios"</strong> te lleva a la tabla completa.</li>
                    </ul>
                </li>
                <li><strong>Notificaciones:</strong> Cuando llega la hora de un recordatorio, aparecerá una notificación flotante.
                    <ul>
                        <li><strong>Modificar:</strong> Abre el formulario para editar este recordatorio.</li>
                        <li><strong>Posponer:</strong> Te permite retrasar el recordatorio (15 min, 1 hora, etc.).</li>
                        <li><strong>Visto / Próximo:</strong> Marca el recordatorio como visto. Si es un recordatorio simple, se elimina. Si es cíclico (semanal o por intervalo), calcula y guarda la próxima fecha/hora.</li>
                        <li><strong>Anular Ciclo (solo para cíclicos):</strong> Elimina permanentemente el recordatorio cíclico.</li>
                    </ul>
                </li>
                <li><strong>Tabla de Recordatorios:</strong>
                    <ul>
                        <li>Se accede con una pulsación larga en el botón de recordatorios o desde el modal de creación.</li>
                        <li>Muestra todos tus recordatorios ordenados por próxima ocurrencia.</li>
                        <li>Puedes realizar las mismas acciones (Visto/Próximo, Posponer, Anular Ciclo) desde los botones de cada fila.</li>
                        <li>Haz clic en cualquier parte de la fila (excepto los botones de acción) para <strong>modificar</strong> ese recordatorio.</li>
                        <li>La tabla se cierra automáticamente después de 60 segundos de inactividad, o puedes cerrarla con los botones "SALIR".</li>
                    </ul>
                </li>
            </ul>
        </section>

        <section>
            <h2>Personalización del Grid</h2>
            <div class="img-crop crop-personalize" style="float: right; margin-left: 10px;">
                <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Botón Personalización">
            </div>
            <p>Puedes adaptar el grid a tus necesidades. Pulsa el botón de <strong>Personalización</strong> (mano/llave inglesa) en la barra superior para empezar.</p>
            <p>Se te presentarán 3 opciones:</p>
            <ol>
                <li><strong>URLs / Etiquetas / Reordenar:</strong> Entra en modo edición.</li>
                <li><strong>Asignar Botones Ocultación:</strong> Entra en modo asignación.</li>
                <li><strong>Ver Ayuda:</strong> Muestra una guía detallada sobre la personalización.</li>
            </ol>
            <p><strong>Importante:</strong> Para salir de cualquier modo de personalización, vuelve a pulsar el botón de Personalización (que estará resaltado en amarillo o cian). <strong>Esto recargará la página para aplicar los cambios.</strong></p>

            <h3>Modo 1: Editar URLs / Etiquetas / Reordenar (Borde Amarillo)</h3>
            <p>Cuando activas este modo, el botón de Personalización se pone <strong>amarillo</strong> y los elementos del grid y los botones laterales se vuelven editables o movibles.</p>
            <ul>
                <li><strong>Editar un Marcador:</strong> Haz clic (o tap) en un marcador existente o en una ranura vacía (<code>+</code>). Se abrirá un formulario para cambiar:
                    <ul>
                        <li><strong>Nombre:</strong> El texto que se muestra en el marcador.</li>
                        <li><strong>URL:</strong> La dirección web a la que enlaza.</li>
                        <li><strong>URL Favicon (Opcional):</strong> La dirección de la imagen del icono. Déjalo vacío para que intente obtenerlo automáticamente de la URL principal. Puedes usar los botones 🔍 y 🖼️ para buscar la URL o el favicon en Google.</li>
                        <li><strong>Guardar:</strong> Guarda los cambios.</li>
                        <li><strong>Resetear:</strong> Devuelve el marcador a su estado original (si tenía uno).</li>
                        <li><strong>Vaciar:</strong> Elimina el marcador, dejando la ranura vacía.</li>
                        <li><strong>Cancelar:</strong> Cierra el formulario sin guardar.</li>
                    </ul>
                </li>
                 <li><strong>Editar Etiqueta de Sección:</strong> Haz clic (o tap) en un botón lateral de sección (<code>- PdR,s</code>, <code>- iAs</code>, etc.). Se abrirá un formulario simple para cambiar su etiqueta (máx. 7 caracteres).</li>
                <li><strong>Reordenar Marcadores (Arrastrar y Soltar):</strong>
                    <ul>
                        <li><strong>PC/Ratón:</strong> Haz clic sobre un marcador, mantén pulsado el botón y arrástralo a la posición deseada (otra ranura ocupada o vacía). Suelta el botón.</li>
                        <li><strong>Pantalla Táctil:</strong> Mantén pulsado un marcador durante un instante hasta que se "levante" ligeramente, luego arrástralo a la nueva posición y levanta el dedo.</li>
                        <li>El marcador se insertará en la nueva posición, desplazando los demás. Los cambios se guardan automáticamente al soltar.</li>
                    </ul>
                </li>
            </ul>

             <h3>Modo 2: Asignar Botones Ocultación (Borde Cian)</h3>
             <p>Este modo te permite decidir qué marcadores pertenecen a cada botón de sección lateral (<code>- PdR,s</code>, <code>- iAs</code>, etc.). El botón de Personalización se pone <strong>cian</strong>.</p>
             <ul>
                 <li><strong>Selecciona un Botón Lateral:</strong> Primero, haz clic en el botón de sección lateral (ej. <code>- PdR,s</code>) que quieres configurar. Este botón se resaltará en cian.</li>
                 <li><strong>Asigna/Desasigna Marcadores:</strong> Ahora, haz clic en los marcadores del grid:
                     <ul>
                         <li>Si un marcador <strong>no</strong> estaba asignado a este botón, se asignará (se resaltará).</li>
                         <li>Si un marcador <strong>ya estaba</strong> asignado, se desasignará (se atenuará).</li>
                         <li><strong>Importante:</strong> En este modo, hacer clic en un marcador <strong>NO</strong> abre el enlace, solo lo asigna o desasigna.</li>
                     </ul>
                 </li>
                 <li><strong>Cambiar de Botón Lateral:</strong> Simplemente haz clic en otro botón lateral (ej. <code>- iAs</code>) para empezar a asignar sus marcadores.</li>
                 <li><strong>Guardado:</strong> Los cambios de asignación se guardan automáticamente cuando sales de este modo (pulsando de nuevo el botón de Personalización cian).</li>
                 <li><strong>Visibilidad:</strong> Los marcadores asignados a un botón lateral se ocultarán/mostrarán cuando uses ese botón (siempre que el botón maestro ON/OFF esté en ON). Los marcadores <strong>no asignados a ningún botón lateral</strong> siempre serán visibles (a menos que el botón maestro esté en OFF).</li>
             </ul>
        </section>

        <section>
            <h2>Configuración</h2>
             <div class="img-crop crop-config" style="float: right; margin-left: 10px;">
                 <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Botón Configuración">
             </div>
            <p>Haz clic en el botón de <strong>Configuración</strong> (engranaje) en la barra superior para acceder a ajustes avanzados, organizados en pestañas:</p>
            <ul>
                <li><strong>Usuario:</strong>
                    <ul>
                        <li>Puedes establecer un <strong>ID Usuario (Apodo)</strong>. Este nombre se mostrará en la esquina superior derecha y, opcionalmente, se puede guardar en una hoja de cálculo compartida (requiere conexión a internet).</li>
                        <li>Puedes añadir información opcional (Modelo Tesla, Año, Provincia).</li>
                        <li>La casilla "Permitir MDs" es para uso futuro.</li>
                        <li><strong>Guardar Datos:</strong> Guarda la información localmente y, si es posible, en la hoja de cálculo compartida.</li>
                        <li><strong>Resetear Reg.:</strong> Borra tus datos de usuario tanto localmente como de la hoja compartida (si existe).</li>
                    </ul>
                </li>
                 <li><strong>Clave Acceso:</strong>
                    <ul>
                        <li>Permite establecer o cambiar una <strong>clave PIN de 4 dígitos</strong>.</li>
                        <li>Esta clave se guarda <strong>únicamente en tu navegador (local)</strong>.</li>
                        <li>Si estableces una clave, puedes activar/desactivar su uso al inicio con el botón del candado en la barra superior.</li>
                        <li><strong>Guardar Clave:</strong> Establece o cambia la clave.</li>
                        <li><strong>Quitar Clave:</strong> Elimina la clave guardada.</li>
                    </ul>
                     <div class="img-crop crop-pin" style="float: right; margin-left: 10px;">
                         <img src="https://raw.githubusercontent.com/BoardingGate/Tesla/main/screenshot.jpg" alt="Botón Clave PIN">
                     </div>
                </li>
                <li><strong>Backup/Restore:</strong>
                    <ul>
                        <li><strong>Generar Backup:</strong> Crea un código de texto que contiene tus ajustes (recordatorios, modo oscuro, visibilidad de secciones, zoom, estado on/off, ID usuario, datos opcionales, personalización del grid, estado del PIN). <strong>¡Copia y guarda este código en un lugar seguro!</strong></li>
                        <li><strong>Restaurar Copia:</strong> Pega un código de backup previamente guardado en el área de texto y pulsa "Restaurar". Esto reemplazará tus ajustes locales actuales con los del backup (solo los compatibles). <strong>Se recargará la página.</strong></li>
                    </ul>
                </li>
                <li><strong>Borrar Datos:</strong>
                    <ul>
                        <li><strong>RESTAURAR EL GRID ORIGINAL DE BOTONES:</strong> Elimina <strong>solo</strong> la personalización del grid (marcadores y asignación a botones laterales), volviendo al estado por defecto. No afecta a recordatorios ni otros ajustes.</li>
                        <li><strong>Borrar TODO:</strong> <strong>¡ACCIÓN IRREVERSIBLE!</strong> Elimina <strong>todos</strong> los datos guardados por esta página en tu navegador (recordatorios, ajustes, personalización, PIN, datos de usuario, etc.). Úsalo con precaución y asegúrate de tener un backup si quieres conservar algo.</li>
                    </ul>
                </li>
            </ul>
        </section>
         <section>
             <h2>Protección con Clave (PIN)</h2>
             <p>Puedes proteger el acceso a la página con una clave PIN de 4 dígitos.</p>
             <ol>
                 <li>Ve a <strong>Configuración</strong> (engranaje) > pestaña <strong>Clave Acceso</strong>.</li>
                 <li>Introduce una clave de 4 dígitos en "Establecer/Cambiar Clave" y confírmala en el campo de abajo.</li>
                 <li>Pulsa <strong>"Guardar Clave"</strong>.</li>
                 <li>Una vez guardada, aparecerá un botón con un icono de <strong>candado</strong> en la barra superior.</li>
                 <li>Haz clic en este botón de candado para <strong>activar</strong> (candado cerrado) o <strong>desactivar</strong> (candado abierto) la petición de la clave al cargar la página.</li>
                 <li>Si está activada, la próxima vez que cargues la página, te pedirá la clave antes de mostrar el contenido.</li>
             </ol>
         </section>

        <footer>
            <p style="text-align:center; margin-top: 30px; font-size: 0.9em; color: #777;">Fin del Manual de Usuario.</p>
        </footer>
    </div>
</body>
</html>